<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Matrix Pro Investing ‚Äì Plancia Bonus</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <canvas id="matrix-bg"></canvas>
  <script src="matrix-bg.js"></script>

  <div class="container">
    <h1>üíª Matrix Pro Investing</h1>
    <h2>Plancia Bonus ADM</h2>

    <div class="actions">
      <button id="refresh">üîÑ Aggiorna Bonus</button>
    </div>

    <table id="bonusTable">
      <thead>
        <tr>
          <th>Bookmaker</th>
          <th>Tipo</th>
          <th>Nome Bonus</th>
          <th>Categoria</th>
          <th>Scadenza</th>
          <th>Profitto</th>
          <th>Stato</th>
          <th>Link</th>
        </tr>
      </thead>
      <tbody id="bonusBody">
        <tr><td colspan="8" style="text-align:center;">Caricamento in corso...</td></tr>
      </tbody>
    </table>
  </div>

  <footer>
    <p>¬© 2025 Matrix Pro Investing ‚Äì Sistema Bonus Live</p>
  </footer>

  <script>
    const bonusBody = document.getElementById("bonusBody");
    const refreshBtn = document.getElementById("refresh");

    async function loadBonus() {
      try {
        const res = await fetch("data/bonus.json?_=" + new Date().getTime());
        const data = await res.json();
        renderTable(data);
      } catch (e) {
        bonusBody.innerHTML = `<tr><td colspan="8" style="text-align:center;">Errore nel caricamento.</td></tr>`;
      }
    }

    function renderTable(bonusList) {
      bonusBody.innerHTML = "";
      bonusList.forEach(b => {
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td>${b.bookmaker}</td>
          <td>${b.tipo}</td>
          <td>${b.nome}</td>
          <td><span class="cat ${b.categoria.toLowerCase()}">${b.categoria}</span></td>
          <td>${b.scadenza}</td>
          <td>${b.profitto}</td>
          <td><span class="stato ${b.stato.toLowerCase()}">${b.stato}</span></td>
          <td><a href="${b.link}" target="_blank">üåê</a></td>
        `;
        bonusBody.appendChild(tr);
      });
    }

    refreshBtn.addEventListener("click", loadBonus);
    loadBonus();
  </script>
</body>
</html>

