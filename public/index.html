<!DOCTYPE html>
<html lang="it">
<head> link rel="stylesheet" href="style.css" <head>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Matrix Pro Investing</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h1>Matrix Pro Investing</h1>

    <!-- Sezione Bonus ADM -->
    <h2>Bonus ADM</h2>
    <table>
      <thead>
        <tr>
          <th>Bookmaker</th>
          <th>Tipo</th>
          <th>Nome</th>
          <th>Scadenza</th>
          <th>Profitto</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>SNAI</td>
          <td>Ricorrente</td>
          <td>Multipla +5%</td>
          <td>2025-10-31</td>
          <td>+3‚Ç¨</td>
        </tr>
        <tr>
          <td>StarCasino</td>
          <td>Casino</td>
          <td>Free Spin 50</td>
          <td>2025-10-31</td>
          <td>+5‚Ç¨</td>
        </tr>
        <tr>
          <td>Revolut</td>
          <td>Benvenuto</td>
          <td>Bonus iscrizione 10‚Ç¨</td>
          <td>2025-12-31</td>
          <td>+10‚Ç¨</td>
        </tr>
      </tbody>
    </table>

    <!-- Sezione Amici -->
    <h2>Amici</h2>
    <ul>
      <li>Marco ‚Äì Attivo</li>
      <li>Luca ‚Äì Sospeso</li>
    </ul>

    <!-- Matrix Assistant -->
    <h2>Matrix Assistant</h2>
    <div class="chat-box">
      <div id="chat-log" class="chat-log">
        <p><strong>Matrix Assistant:</strong> Sistema operativo pronto. üíª</p>
      </div>
      <form id="chat-form">
        <input type="text" id="user-input" placeholder="Chiedi al Coach Matrix..." autocomplete="off" />
        <button type="submit">Invia</button>
      </form>
    </div>

    <p style="text-align:center; margin-top:20px;">
      <a href="login.html">Logout</a>
    </p>
  </div>

  <footer>
    <p>¬© 2025 Matrix Pro Investing ‚Äî All rights reserved.</p>
  </footer>

  <script>
    const chatForm = document.getElementById('chat-form');
    const userInput = document.getElementById('user-input');
    const chatLog = document.getElementById('chat-log');

    chatForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      const message = userInput.value.trim();
      if (!message) return;

      appendMessage('Tu', message);
      userInput.value = '';

      try {
        const res = await fetch('/api/assistant', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ message })
        });

        const data = await res.json();
        appendMessage('Matrix Assistant', data.reply);
      } catch (err) {
        appendMessage('Matrix Assistant', '‚ùå Errore nella risposta.');
      }
    });

    function appendMessage(sender, text) {
      const p = document.createElement('p');
      p.innerHTML = `<strong>${sender}:</strong> ${text}`;
      chatLog.appendChild(p);
      chatLog.scrollTop = chatLog.scrollHeight;
    }
  </script>
</body>
</html>

